<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>

<body class="container">


    <nav th:replace="fragments :: navigation"></nav>

    <h1>Add a Spot</h1>

    <form method="post" style="max-width:500px;" th:object="${skateSpot}">
        <div class="form-group">
            <label th:for="name">Name</label>
            <input class="form-control" th:field="*{name}" />
            <span th:errors="*{name}" class="error"></span>
        </div>
        <div class="form-group">
            <label th:for="description">Description</label>
            <input class="form-control" th:field="*{description}" />
            <span th:errors="*{description}" class="error"></span>
        </div>
        <div class="form-group">
            <label th:for="address">Address</label>
            <input class="form-control" th:field="*{address}" />
            <span th:errors="*{address}" class="error"></span>
        </div>
        <div class="form-group">
            <label th:for="security">Security</label>
            <input class="form-inline" type="radio" name="security" value="Yes" th:field="*{security}" />Yes
            <input class="form-inline" type="radio" name="security" value="No" th:field="*{security}" />No<br/>
            <span th:errors="*{security}" class="error"></span>
        </div>
        <div class="form-group options">
            <label th:for="spotType">Spot Type (Select at least one)</label>
            <ul>
                <li><input type="checkbox" name="spotTypes" value="1" required="required"/> Rails / Ledges</li>
                <li><input type="checkbox" name="spotTypes" value="2" required="required"/> Stairs / Gaps</li>
                <li><input type="checkbox" name="spotTypes" value="3" required="required"/> Manuals / Other</li>
            </ul>
        </div>

        <script type="text/javascript">
          $(function(){
            var requiredCheckboxes = $('.options :checkbox[required]');
            requiredCheckboxes.change(function(){
                if(requiredCheckboxes.is(':checked')) {
                    requiredCheckboxes.removeAttr('required');
                } else {
                    requiredCheckboxes.attr('required', 'required');
                }
            });
        });

        </script>

        <input type="submit" value="Add Spot" />
    </form>


</body>
</html>
